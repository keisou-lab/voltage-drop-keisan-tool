<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>電圧降下計算ツール｜keisou-lab</title>

  <!-- 🔍 簡易SEO -->
  <meta name="description" content="電圧・電流・距離・ケーブル種別から電圧降下を自動計算。降下率・末端電圧・必要断面積の目安を表示。VVF・CVVなど各種ケーブルに対応。" />
  <link rel="canonical" href="https://keisou-lab.github.io/voltage-drop-keisan-tool/" />

  <link rel="stylesheet" href="style.css" />
  <style>
    /* ページ内レイアウト調整 */
    .grid { display: grid; gap: 12px; }
    @media (min-width: 768px) { .grid { grid-template-columns: 1fr 1fr; } }
    .note { font-size: .9rem; color: #555; }
    .result-card { background:#f8f9fa; padding:14px; border-radius:8px; margin-top:12px; }
    .pill { display:inline-block; background:#eef; border-radius:999px; padding:.15rem .6rem; margin-right:.4rem; }
    button { background:#0078d7; color:white; border:none; border-radius:6px; padding:8px 16px; font-size:1rem; cursor:pointer; }
    button:hover { background:#005fa3; }
  </style>
</head>

<body>
  <h1>電圧降下計算ツール</h1>
  <p class="note">
    入力した条件から <b>電圧降下(V)</b>・<b>降下率(%)</b>・<b>末端電圧(V)</b>・<b>トータル抵抗(Ω)</b> を算出します。<br>
    ケーブル種別は <code>cable_data.json</code>（既存ファイル）を読み込み、材質ごとの抵抗率を使用します。
  </p>

  <div class="container">
    <div class="grid">
      <label>ケーブル種類:
        <select id="cableType"></select>
      </label>

      <label>断面積 (mm²)（任意・未指定なら推奨を表示）:
        <select id="section">
          <option value="">未指定（自動提案）</option>
        </select>
      </label>

      <label>系統:
        <select id="system">
          <option value="dc">直流 / 単相等価</option>
          <option value="ac1">AC 単相2線（力率を考慮）</option>
          <option value="ac3">AC 三相3線（力率を考慮・簡易式）</option>
        </select>
      </label>

      <label>力率（pf、0〜1）:
        <input id="pf" type="number" step="0.01" min="0" max="1" value="1.00" />
      </label>

      <label>電圧 (V):
        <input id="voltage" type="number" placeholder="例: 100" />
      </label>

      <label>電流 (A):
        <input id="current" type="number" placeholder="例: 15" />
      </label>

      <label>距離 (m)（片道）:
        <input id="length" type="number" placeholder="例: 20" />
      </label>

      <label>許容電圧降下率 (%)（任意・目標）:
        <input id="maxDropRate" type="number" step="0.1" placeholder="例: 2" />
      </label>
    </div>

    <button id="calcBtn">計算する</button>
    <div id="result" class="result-card"></div>
    <div id="suggest" class="result-card" style="display:none"></div>

    <p class="note">
      ※ 簡易計算：リアクタンスは無視し、導体抵抗のみで評価しています（一般的な低圧・短距離なら概ね実用的な精度）。<br>
      ※ ループ長は「往復長（2×距離）」で計算します。三相は等価的に √3 を掛けた簡易式を用いています。
    </p>
  </div>

  <!-- ✅ 修正版（ファイル名を修正） -->
  <script src="script.js"></script>
</body>
</html>
